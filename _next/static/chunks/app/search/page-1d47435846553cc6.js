(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{1411:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6183,23)),Promise.resolve().then(r.bind(r,3750))},1787:e=>{e.exports={form:"SearchForm_form__cJQu3",search_box:"SearchForm_search_box__J2jW4",search_icon:"SearchForm_search_icon___Orgg",search_input:"SearchForm_search_input__cJP5n"}},2472:(e,t,r)=>{"use strict";function a(e){if("attraction"===e)return"アトラクション";if("exhibition"===e)return"展示";if("food"===e)return"食べ物";if("game/experience"===e)return"ゲーム・体験";if("magazine"===e)return"部誌販売/配布";else if("movie"===e)return"映像";else if("performance"===e)return"パフォーマンス";else if("store"===e)return"販売";else return""}r.d(t,{W:()=>a})},3191:e=>{e.exports={checkSvg:"CheckMark_checkSvg__XpWKI"}},3750:(e,t,r)=>{"use strict";r.d(t,{default:()=>W});var a=r(5155),n=r(1787),o=r.n(n),s=r(2115),c=r(8405),l=r.n(c),i=r(5838);function d(e){let{data:t}=e;return(0,a.jsx)("div",{className:l().container,children:(0,a.jsxs)("div",{className:l().search_result,children:[0===t.length?(0,a.jsx)(a.Fragment,{children:"検索結果：見つかりませんでした。キーワードを変えてもう一度お試しください。"}):(0,a.jsxs)(a.Fragment,{children:["検索結果：",t.length,"件見つかりました。"]}),t.map((e,t)=>(0,a.jsx)(i.default,{data:e},t))]})})}var h=r(4879);let _=h.YO(h.Ik({booth_id:h.Yj(),tokens:h.YO(h.Yj())}));var u=r(4606),m=r.n(u);let g=h.k5(["game/experience","attraction","food","exhibition","performance","movie","store","magazine"]),f=["game/experience","attraction","food","exhibition","performance","movie","store","magazine"],p=h.k5(["red","blue","yellow_green","green","purple","orange","random"]),x=h.k5(["gym1","m1a/m1b","m2a/m2b/m2c/m2d","h3a","h3b","h3c","h3d","ground","sp3","h2b/h2c","m3c","m3d","spj4","science","catholic","theater","biology","h2d","sp2","h1c/h1d","tech","sp5","h2a","sp4","physics","h3e","music","large/sp1","m3b","?","sp6","gym2","m1c/m1d","meeting","shodo","m3a"]),j=h.Ik({booth_id:h.Yj(),booth_name:h.Yj(),short_description:h.Yj().default("この企画はデータを提出していません"),long_description:h.Yj().default("この企画はデータを提出していません"),tags:h.YO(g).default([]),color:p.default("random"),has_cm:h.zM().default(!1),has_website:h.zM().default(!1).default(!1),group_name:h.Yj(),place_id:x,place:h.Yj(),overview:h.Yj().default("データ未提出")}),b=null;async function v(){let e=await fetch("/booths.json").then(e=>e.json());try{return h.YO(j).parse(e)}catch(e){throw Error("invalid /booths.json with"+e)}}async function C(){return null!==b?b:b=await v()}let y=null,k=new(m());async function N(){if(null!==y)return y;let e=await fetch("/search-index.json").then(e=>e.json());try{return y=_.parse(e)}catch(e){throw alert("何らかのエラーで検索に失敗しました。"),Error(e+"\n\nfailed to ")}}async function w(e,t){let r=await N(),a=k.segment(e);if(0===a.length)return(await C()).filter(e=>{let r=t.map(t=>e.tags.includes(t));return 0===r.length||r.reduce((e,t)=>e||t)});let n=Array(r.length).fill(0);a.forEach(e=>{e.length<2||r.forEach((t,r)=>{let a=0;t.tokens.forEach(t=>{if(t===e){a=Math.max(a,1e3);return}t.includes(e)&&(a=Math.max(a,800));let r=function(e,t){let r=function(e,t){let r=e.length,a=t.length,n=Array.from({length:r+1},()=>Array(a+1).fill(0));for(let e=0;e<=r;e++)n[e][0]=e;for(let e=0;e<=a;e++)n[0][e]=e;for(let o=1;o<=r;o++)for(let r=1;r<=a;r++)e[o-1]===t[r-1]?n[o][r]=n[o-1][r-1]:n[o][r]=Math.min(n[o-1][r]+1,n[o][r-1]+1,n[o-1][r-1]+1);return n[r][a]}(e,t),a=Math.max(e.length,t.length);return 0===a?100:(1-r/a)*100}(t,e);r>=60&&(a=Math.max(a,Math.floor(3*r)))}),n[r]+=a})});let o=n.map((e,t)=>({id:r[t].booth_id,score:e})).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).map(e=>e.id),s=await C();return o.map(e=>s.find(t=>t.booth_id===e)).filter(e=>void 0!==e).filter(e=>{let r=t.map(t=>e.tags.includes(t));return 0===r.length||r.reduce((e,t)=>e&&t)})}var B=r(2472),S=r(6288),Y=r.n(S),M=r(3191),F=r.n(M);let E=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"1.1em",height:"1.1em",className:F().checkSvg,children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})});function O(e){let{value:t,onChange:r}=e,n=(0,s.useCallback)(e=>{t.includes(e)?r(t.filter(t=>t!==e)):r([...t,e])},[t,r]);return(0,a.jsxs)("div",{className:Y().container,children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:""}),(0,a.jsx)("div",{className:Y().buttons,children:f.map(e=>{let r=t.includes(e);return(0,a.jsxs)("button",{onClick:()=>n(e),style:{border:r?"2px solid #007bff":"1px solid #ccc",backgroundColor:r?"#e9f5ff":"#f8f8f8",color:r?"#007bff":"#333"},className:Y().button,children:[(0,B.W)(e),r?(0,a.jsx)(E,{}):null]},e)})})]})}function W(){let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(null),[c,l]=(0,s.useState)([]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:o().form,children:[(0,a.jsxs)("div",{className:o().search_box,children:[(0,a.jsx)("button",{className:o().search_icon,onClick:()=>{n(null),w(e,c).then(e=>{n(e)})},children:(0,a.jsx)("img",{src:"/icon/search.svg",alt:"search icon"})}),(0,a.jsx)("input",{className:o().search_input,type:"text",onChange:e=>{t(e.target.value)},value:e})]}),(0,a.jsx)(O,{value:c,onChange:l})]}),null===r?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{children:(0,a.jsx)(d,{data:r})})})]})}},5838:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(5155),n=r(2472),o=r(6165),s=r.n(o);function c(e){let{data:t,variation:r="default"}=e,{booth_id:o,booth_name:c,group_name:l,long_description:i,tags:d,color:h}=t;return"default"===r?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:s().container,children:(0,a.jsxs)("div",{className:"".concat(s().card_body," ").concat(s()[h]),children:[(0,a.jsx)("img",{src:"booths-icon/".concat(o,".png"),alt:c,width:200,height:200,className:s().card_img,onError:e=>{e.target instanceof HTMLImageElement&&(e.target.src="/booths-icon/null.png")}}),(0,a.jsxs)("div",{className:s().card_content,children:[(0,a.jsx)("h5",{className:s().card_title,children:c}),(0,a.jsx)("p",{className:s().card_groupname,children:l}),(0,a.jsx)("p",{className:s().card_text,children:i}),(0,a.jsx)("div",{className:s().tag,children:d.map(n.W).map(e=>(0,a.jsx)("span",{className:s().tag_item,children:e},e))})]})]})})}):"small"===r?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:s().small_container,children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:c}),(0,a.jsx)("p",{children:l}),(0,a.jsx)("p",{children:i}),(0,a.jsx)("div",{children:d.map(n.W).map(e=>(0,a.jsx)("span",{children:e},e))})]})})})}):void 0}},6165:e=>{e.exports={container:"BoothCard_container__s6nHY",card_body:"BoothCard_card_body__cKfMo",card_img:"BoothCard_card_img__jKof1",card_content:"BoothCard_card_content__1aKjJ",card_title:"BoothCard_card_title__KqcNe",card_groupname:"BoothCard_card_groupname__Oinnq",card_text:"BoothCard_card_text__V7i0Y",tag:"BoothCard_tag__kDB2j",tag_item:"BoothCard_tag_item__6Nn4p",red:"BoothCard_red__HWzL1",blue:"BoothCard_blue__psrmM",yellow_green:"BoothCard_yellow_green__MiXeH",green:"BoothCard_green__XJxuD",purple:"BoothCard_purple__Xx_hb",orange:"BoothCard_orange__9Fhxh",random:"BoothCard_random__yFdxO",small_container:"BoothCard_small_container__aQOyB"}},6183:e=>{e.exports={title:"page_title__V_spF"}},6288:e=>{e.exports={container:"TagSlecter_container__TXtH2",buttons:"TagSlecter_buttons__MpetQ",button:"TagSlecter_button__QCN8f"}},8405:e=>{e.exports={container:"SearchResult_container__HLtAz",search_result:"SearchResult_search_result__1y9G3"}}},e=>{e.O(0,[828,586,92,441,255,358],()=>e(e.s=1411)),_N_E=e.O()}]);